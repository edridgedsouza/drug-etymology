<html>
    <head>
        <title>Drug Etymology</title>
        <script src='main.js'></script>
        <script>
            var stem_data;
            fetch('./stems.tsv')
                .then(response => response.text())
                .then(data => stem_data = data)
                .then(() => console.log(stem_data));

            function analyze() {
                var l = new Linguist(stem_data);

                var drugname = document.getElementById('dname').value;
                var out = document.getElementById("output");
                
                var out_text = l.explain(drugname);
                out.innerText = out_text;
            }
            

        </script>
    </head>

    <body>
        <label for="dname">Drug name:</label>
        <input type="text" id="dname" name="dname"><br><br>
        <button id='analyze' onclick='analyze()'>Analyze</button>
        <div id='output'></div>

        <script>
            // https://www.w3schools.com/howto/howto_js_trigger_button_enter.asp
            var input = document.getElementById("dname");
            input.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    event.preventDefault();
                    document.getElementById("analyze").click();
                }
            });
        </script>
    </body>

</html>